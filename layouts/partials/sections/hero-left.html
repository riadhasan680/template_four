<!-- Hero Section with Main Banner and 3 Cards -->
<div class="space-y-4">
  <!-- Fetch Featured Posts -->
  {{ $featured := where .Site.RegularPages "Params.featured" true }}
  {{ $mainFeature := first 1 $featured }}
  {{ $subFeatures := first 3 (after 1 $featured) }}
  
  <!-- Fallback if not enough featured posts -->
  {{ if lt (len $subFeatures) 3 }}
    {{ $needed := sub 3 (len $subFeatures) }}
    {{ $fallback := where .Site.RegularPages "Type" "posts" | first $needed }}
    {{ $subFeatures = $subFeatures | append $fallback | uniq }}
  {{ end }}

  <!-- Main Featured Banner -->
  {{ with index $mainFeature 0 }}
  <div
    class="relative group overflow-hidden rounded-lg h-[400px] md:h-[500px] lg:h-[600px] bg-gray-800"
  >
    <div
      class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent z-10"
    ></div>
    <img
      src="{{ .Params.image }}"
      alt="{{ .Title }}"
      class="absolute inset-0 w-full h-full object-cover group-hover:scale-105  transition-transform duration-700"
    />

    <div class="absolute bottom-0 left-0 p-6 md:p-8 z-20 w-full">
      <h1
        class="text-xl md:text-4xl lg:text-5xl font-display leading-relaxed font-bold leading-tight mb-2 text-white drop-shadow-lg"
      >
        <a
          href="{{ .RelPermalink }}"
          class="hover:text-tg-primary transition-colors block"
        >
          {{ .Title }}
        </a>
      </h1>
    </div>
  </div>
  {{ end }}

  <!-- 3 Cards Below Banner -->
  {{ partial "components/hero-cards.html" (dict "context" . "cards" $subFeatures) }}
</div>
